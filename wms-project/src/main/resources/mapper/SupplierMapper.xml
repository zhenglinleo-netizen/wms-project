<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.wms.mapper.SupplierMapper">
    
    <resultMap id="BaseResultMap" type="com.example.wms.entity.Supplier">
        <id column="id" property="id"/>
        <result column="supplier_code" property="supplierCode"/>
        <result column="supplier_name" property="supplierName"/>
        <result column="contact_person" property="contactPerson"/>
        <result column="phone" property="phone"/>
        <result column="email" property="email"/>
        <result column="address" property="address"/>
        <result column="cooperation_start_time" property="cooperationStartTime"/>
        <result column="process_module_match" property="processModuleMatch"/>
        <result column="core_expertise" property="coreExpertise"/>
        <result column="weaknesses" property="weaknesses"/>
        <result column="supplier_role" property="supplierRole"/>
        <result column="rating" property="rating"/>
        <result column="status" property="status"/>
        <result column="remark" property="remark"/>
        <result column="create_time" property="createTime"/>
        <result column="update_time" property="updateTime"/>
    </resultMap>
    
    <select id="selectById" resultMap="BaseResultMap">
        SELECT * FROM supplier WHERE id = #{id}
    </select>
    
    <select id="selectByCode" resultMap="BaseResultMap">
        SELECT * FROM supplier WHERE supplier_code = #{supplierCode}
    </select>
    
    <select id="selectAll" resultMap="BaseResultMap">
        SELECT * FROM supplier ORDER BY id ASC
    </select>
    
    <insert id="insert" parameterType="com.example.wms.entity.Supplier" useGeneratedKeys="true" keyProperty="id">
        INSERT INTO supplier (supplier_code, supplier_name, contact_person, phone, email, address, cooperation_start_time, process_module_match, core_expertise, weaknesses, supplier_role, rating, status, remark, create_time)
        VALUES (#{supplierCode}, #{supplierName}, #{contactPerson}, #{phone}, #{email}, #{address}, #{cooperationStartTime}, #{processModuleMatch}, #{coreExpertise}, #{weaknesses}, #{supplierRole}, #{rating}, #{status}, #{remark}, #{createTime})
    </insert>
    
    <update id="updateById" parameterType="com.example.wms.entity.Supplier">
        UPDATE supplier
        <set>
            <if test="supplierCode != null">supplier_code = #{supplierCode},</if>
            <if test="supplierName != null">supplier_name = #{supplierName},</if>
            <if test="contactPerson != null">contact_person = #{contactPerson},</if>
            <if test="phone != null">phone = #{phone},</if>
            <if test="email != null">email = #{email},</if>
            <if test="address != null">address = #{address},</if>
            <if test="cooperationStartTime != null">cooperation_start_time = #{cooperationStartTime},</if>
            <if test="processModuleMatch != null">process_module_match = #{processModuleMatch},</if>
            <if test="coreExpertise != null">core_expertise = #{coreExpertise},</if>
            <if test="weaknesses != null">weaknesses = #{weaknesses},</if>
            <if test="supplierRole != null">supplier_role = #{supplierRole},</if>
            <if test="rating != null">rating = #{rating},</if>
            <if test="status != null">status = #{status},</if>
            <if test="remark != null">remark = #{remark},</if>
        </set>
        WHERE id = #{id}
    </update>
    
    <delete id="deleteById">
        DELETE FROM supplier WHERE id = #{id}
    </delete>
    
</mapper>
